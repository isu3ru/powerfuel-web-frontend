<%- include('../partials/head.ejs', {title: title}) %>

<%- include('../partials/header.ejs') %>

<%- include('../partials/sidebar.ejs') %>
<div class="main-content" ng-app="vehicleApp" ng-controller="vehicleCtrl" ng-init="getVehicles()">
    <div class="page-content">
        <div class="container-fluid">

            <!-- start page title -->
            <div class="row">
                <div class="col-12">
                    <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                        <h4 class="mb-sm-0 font-size-18">Vehicle View Page</h4>

                        <div class="page-title-right">
                            <ol class="breadcrumb m-0">
                                <li class="breadcrumb-item"><a href="javascript: void(0);">Power Fule</a></li>
                                <li class="breadcrumb-item active">Vehicle View</li>
                            </ol>
                        </div>

                    </div>
                </div>
            </div>
            <!-- end page title -->
            <div class="row">
                <div class="col-6"> </div>
                <div class="col-4">
                    <button class="btn btn-primary" ng-click="confirmVehicles()">Confirm Selected Vehicle</button>
               
                </div>
                <div class="col-2"> <input type="text" ng-model="searchText" class="form-control" placeholder="Search Vehicles" /> </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                          
                       
                            <table id="datatable" class="table table-bordered dt-responsive  nowrap w-100">
                                <thead>
                                <tr>                                   
                                    <th></th>
                                    <th>Plate Number</th>
                                    <th>Vehicle Type</th>
                                    <th>Chassy Number</th>                                  
                                    <th>Fule Type</th>
                                    <th>Customer</th>
                                    <th>Contact No</th>
                                    <th>Period QTA</th>
                                    <th>Vehicle Status</th>
                                    <th>Settings</th>
                                </tr>
                                </thead>

                                <tbody>
                                    <tr ng-repeat="v in vehicles | filter:searchText">
                                        <td> <input type="checkbox" ng-model="v.selected" /> </td>
                                        <td>{{ v.plateNo }}</td>
                                        <td>{{ v.vehicleType.name }}</td>
                                        <td>{{ v.chassyNo }}</td>
                                        <td>{{ v.fuelType.name }}</td>
                                        <td>{{ v.customer.firstName }}</td>
                                        <td>{{ v.customer.contactNo }}</td>
                                        <td> 
                                            <div class="row">
                                                <div class="col col-10"> 
                                                    <input type="text" class="form-control" ng-model="v.periodQTA" /> 
                                        
                                                </div>
                                                <div class="col col-2">
                                                    <i class="fa fa-save" ng-click="updatePeriodQTA(v)" style="color: green;" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                         
                                        </td>
                                        <td> 
                                            <span ng-if="v.vehicleStatus == 1" style="background-color: darkorange; padding: 5px 10px 5px 10px;">New</span> 
                                            <span ng-if="v.vehicleStatus == 2" style="background-color: forestgreen;color: white; padding: 5px 10px 5px 10px;">Confirmed</span> 
                                            <span ng-if="v.vehicleStatus == 3" style="background-color: red;color: white; padding: 5px 10px 5px 10px;">Terminated</span> 
                                        </td>
                                        <td>
                                            <button class="btn btn-danger btn-sm" ng-click="deleteVehicle(v.id)">Delete</button>
                                           


                                           

                                        </td>
                                    </tr>

                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- container-fluid -->
    </div>
</div>
<%- include('../partials/footer.ejs') %>

<%- include('../partials/foot.ejs', {scripts: ['vehicle']}) %>